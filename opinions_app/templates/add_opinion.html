{% extends "base.html" %}
{% block title %} Добавить мнение о фильме {% endblock %}
{% block content %}
<main>
  <section class="container my-5">
    <div class="row">
      <h1>Добавить мнение о фильме</h1>
      <div class="col-12 col-lg-7 my-5">
        <!-- Измените тип передаваемых данных в атрибуте enctype -->
        <form method="POST" novalidate enctype="multipart/form-data">
          {{ form.csrf_token }}
          <!-- Указываем CSS-классы и placeholder -->
          {{ form.title(class="form-control form-control-lg py-3 mb-3", placeholder=form.title.label.text) }}<br />
          {{ form.source(class="form-control form-control-lg py-3 mb-3", placeholder=form.source.label.text) }}<br />
          <!-- Указываем CSS-классы, placeholder, rows и cols: -->
          {{ form.text(class="form-control form-control-lg py-3 mb-3", placeholder=form.text.label.text,rows="3", cols="40") }}<br />
          
          <!-- Добавьте после поля для ввода описания поле для изображений -->
          {{ form.images(class="form-control form-control-lg py-2 mb-3")}}
          <!-- Включите отображение ошибок для этого поля -->
          {% if form.images.errors %}
            <p class="text-danger">
            {% for error in form.images.errors %}
              {{ error }}
            {% endfor %}
            </p>
          {% endif %}
          
          <!-- Указываем CSS-классы для кнопки: -->
          {{ form.submit(class="button px-5 py-3 btn") }}
        </form>

        <p class="py-3 mb-3">
          {% with messages = get_flashed_messages() %}
            {% if messages %}
              {% for message in messages %}
                <div class="alert alert-warning" role="alert">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}
        </p>
        
      </div>
      <div class="col-12 col-lg-5">
        <img
          class="img-fluid mx-auto d-block"
          src="{{ url_for('static', filename='img/illustration.png') }}"
          alt=""
        />
      </div>
    </div>
  </section>
</main>
{% endblock %}